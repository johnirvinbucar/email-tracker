--
-- PostgreSQL database dump
--

\restrict N6CVsGUK7l14C7oWA2WtzwPvblwGslChh7ajwdX5eunXcr8OfbW0Zb6imewGwj7

-- Dumped from database version 18.0
-- Dumped by pg_dump version 18.0

-- Started on 2025-10-03 13:09:55

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 222 (class 1259 OID 16512)
-- Name: departments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.departments (
    id integer NOT NULL,
    name character varying(100) NOT NULL,
    description text
);


ALTER TABLE public.departments OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16511)
-- Name: departments_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.departments_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.departments_id_seq OWNER TO postgres;

--
-- TOC entry 5030 (class 0 OID 0)
-- Dependencies: 221
-- Name: departments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.departments_id_seq OWNED BY public.departments.id;


--
-- TOC entry 226 (class 1259 OID 16554)
-- Name: memo_tracking; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.memo_tracking (
    id integer NOT NULL,
    memo_id integer,
    action character varying(100) NOT NULL,
    description text,
    department_id integer,
    user_id integer,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.memo_tracking OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16553)
-- Name: memo_tracking_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.memo_tracking_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.memo_tracking_id_seq OWNER TO postgres;

--
-- TOC entry 5031 (class 0 OID 0)
-- Dependencies: 225
-- Name: memo_tracking_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.memo_tracking_id_seq OWNED BY public.memo_tracking.id;


--
-- TOC entry 224 (class 1259 OID 16525)
-- Name: memos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.memos (
    id integer NOT NULL,
    tracking_number character varying(50) NOT NULL,
    subject character varying(500) NOT NULL,
    content text NOT NULL,
    from_user_id integer,
    to_department_id integer,
    priority character varying(20) DEFAULT 'Medium'::character varying,
    status character varying(50) DEFAULT 'Pending'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    to_user_id integer
);


ALTER TABLE public.memos OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 16524)
-- Name: memos_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.memos_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.memos_id_seq OWNER TO postgres;

--
-- TOC entry 5032 (class 0 OID 0)
-- Dependencies: 223
-- Name: memos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.memos_id_seq OWNED BY public.memos.id;


--
-- TOC entry 228 (class 1259 OID 16581)
-- Name: user_sessions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_sessions (
    id integer NOT NULL,
    user_id integer,
    token character varying(255) NOT NULL,
    expires_at timestamp without time zone NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.user_sessions OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 16580)
-- Name: user_sessions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.user_sessions_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.user_sessions_id_seq OWNER TO postgres;

--
-- TOC entry 5033 (class 0 OID 0)
-- Dependencies: 227
-- Name: user_sessions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.user_sessions_id_seq OWNED BY public.user_sessions.id;


--
-- TOC entry 220 (class 1259 OID 16495)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    email character varying(255) NOT NULL,
    password_hash character varying(255) NOT NULL,
    name character varying(100) NOT NULL,
    department character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    department_id integer
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16494)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_id_seq OWNER TO postgres;

--
-- TOC entry 5034 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- TOC entry 4831 (class 2604 OID 16515)
-- Name: departments id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.departments ALTER COLUMN id SET DEFAULT nextval('public.departments_id_seq'::regclass);


--
-- TOC entry 4837 (class 2604 OID 16557)
-- Name: memo_tracking id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memo_tracking ALTER COLUMN id SET DEFAULT nextval('public.memo_tracking_id_seq'::regclass);


--
-- TOC entry 4832 (class 2604 OID 16528)
-- Name: memos id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos ALTER COLUMN id SET DEFAULT nextval('public.memos_id_seq'::regclass);


--
-- TOC entry 4839 (class 2604 OID 16584)
-- Name: user_sessions id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_sessions ALTER COLUMN id SET DEFAULT nextval('public.user_sessions_id_seq'::regclass);


--
-- TOC entry 4829 (class 2604 OID 16498)
-- Name: users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- TOC entry 5018 (class 0 OID 16512)
-- Dependencies: 222
-- Data for Name: departments; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.departments (id, name, description) FROM stdin;
1	Administration	Administrative Department
2	Finance	Finance and Accounting Department
3	Operations	Operations Department
4	Records	Records Management Department
5	IT	Information Technology Department
\.


--
-- TOC entry 5022 (class 0 OID 16554)
-- Dependencies: 226
-- Data for Name: memo_tracking; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.memo_tracking (id, memo_id, action, description, department_id, user_id, created_at) FROM stdin;
1	1	Completed	Memo completed and acknowledged	2	5	2025-10-03 11:41:41.708777
2	3	Created	Memo created	5	5	2025-10-03 11:44:21.559648
3	4	Created	Memo created	1	5	2025-10-03 11:45:54.673172
4	4	Completed	Memo completed and acknowledged	1	7	2025-10-03 11:46:39.840889
\.


--
-- TOC entry 5020 (class 0 OID 16525)
-- Dependencies: 224
-- Data for Name: memos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.memos (id, tracking_number, subject, content, from_user_id, to_department_id, priority, status, created_at, updated_at, to_user_id) FROM stdin;
2	MEMO-2024-002	Operations Schedule Update	Updated operations schedule for Q2...	7	3	Medium	In Progress	2025-10-02 15:39:05.347717	2025-10-02 15:39:05.347717	6
1	MEMO-2024-001	Monthly Budget Review	Please review the attached budget for next month...	5	2	High	Completed	2025-10-02 15:39:05.347717	2025-10-03 11:41:41.686178	5
3	TRK-1759463061520	Sample	adad	5	5	Medium	Pending	2025-10-03 11:44:21.549764	2025-10-03 11:44:21.549764	\N
4	TRK-1759463154669	TEST2	adad	5	1	Medium	Completed	2025-10-03 11:45:54.669912	2025-10-03 11:46:39.832578	\N
\.


--
-- TOC entry 5024 (class 0 OID 16581)
-- Dependencies: 228
-- Data for Name: user_sessions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_sessions (id, user_id, token, expires_at, created_at) FROM stdin;
\.


--
-- TOC entry 5016 (class 0 OID 16495)
-- Dependencies: 220
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, email, password_hash, name, department, created_at, department_id) FROM stdin;
1	admin@example.com	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Admin User	Administration	2025-10-02 15:32:39.642699	1
10	test11@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Test User 1	Finance	2025-10-02 15:40:13.687483	2
5	test1@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Test User 1	Finance	2025-10-02 15:37:42.907601	2
2	finance@example.com	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Finance User	Finance	2025-10-02 15:32:39.642699	2
6	test2@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Test User 2	Operations	2025-10-02 15:37:42.907601	3
3	ops@example.com	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Ops User	Operations	2025-10-02 15:32:39.642699	3
8	records@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Records User	Records	2025-10-02 15:37:42.907601	4
11	test22@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Test User 2	Operations	2025-10-02 15:40:13.687483	3
7	admin@pdrrmo.gov.ph	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Admin User	Administration	2025-10-02 15:37:42.907601	1
12	irvin@pdrrmo.com	$2b$10$r8efttZLEjJEv2DXolDk7OpgJiI7GabU83DncQENcac02NhZWicmS	Admin User	Administration	2025-10-02 15:40:42.907601	1
\.


--
-- TOC entry 5035 (class 0 OID 0)
-- Dependencies: 221
-- Name: departments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.departments_id_seq', 6, true);


--
-- TOC entry 5036 (class 0 OID 0)
-- Dependencies: 225
-- Name: memo_tracking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.memo_tracking_id_seq', 4, true);


--
-- TOC entry 5037 (class 0 OID 0)
-- Dependencies: 223
-- Name: memos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.memos_id_seq', 4, true);


--
-- TOC entry 5038 (class 0 OID 0)
-- Dependencies: 227
-- Name: user_sessions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_sessions_id_seq', 1, false);


--
-- TOC entry 5039 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 12, true);


--
-- TOC entry 4846 (class 2606 OID 16523)
-- Name: departments departments_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.departments
    ADD CONSTRAINT departments_name_key UNIQUE (name);


--
-- TOC entry 4848 (class 2606 OID 16521)
-- Name: departments departments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.departments
    ADD CONSTRAINT departments_pkey PRIMARY KEY (id);


--
-- TOC entry 4854 (class 2606 OID 16564)
-- Name: memo_tracking memo_tracking_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memo_tracking
    ADD CONSTRAINT memo_tracking_pkey PRIMARY KEY (id);


--
-- TOC entry 4850 (class 2606 OID 16540)
-- Name: memos memos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos
    ADD CONSTRAINT memos_pkey PRIMARY KEY (id);


--
-- TOC entry 4852 (class 2606 OID 16542)
-- Name: memos memos_tracking_number_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos
    ADD CONSTRAINT memos_tracking_number_key UNIQUE (tracking_number);


--
-- TOC entry 4856 (class 2606 OID 16590)
-- Name: user_sessions user_sessions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_sessions
    ADD CONSTRAINT user_sessions_pkey PRIMARY KEY (id);


--
-- TOC entry 4858 (class 2606 OID 16592)
-- Name: user_sessions user_sessions_token_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_sessions
    ADD CONSTRAINT user_sessions_token_key UNIQUE (token);


--
-- TOC entry 4842 (class 2606 OID 16510)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4844 (class 2606 OID 16508)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4859 (class 2606 OID 24790)
-- Name: users fk_users_department; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT fk_users_department FOREIGN KEY (department_id) REFERENCES public.departments(id);


--
-- TOC entry 4864 (class 2606 OID 16570)
-- Name: memo_tracking memo_tracking_department_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memo_tracking
    ADD CONSTRAINT memo_tracking_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.departments(id);


--
-- TOC entry 4865 (class 2606 OID 16565)
-- Name: memo_tracking memo_tracking_memo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memo_tracking
    ADD CONSTRAINT memo_tracking_memo_id_fkey FOREIGN KEY (memo_id) REFERENCES public.memos(id);


--
-- TOC entry 4866 (class 2606 OID 16575)
-- Name: memo_tracking memo_tracking_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memo_tracking
    ADD CONSTRAINT memo_tracking_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4861 (class 2606 OID 16543)
-- Name: memos memos_from_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos
    ADD CONSTRAINT memos_from_user_id_fkey FOREIGN KEY (from_user_id) REFERENCES public.users(id);


--
-- TOC entry 4862 (class 2606 OID 16548)
-- Name: memos memos_to_department_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos
    ADD CONSTRAINT memos_to_department_id_fkey FOREIGN KEY (to_department_id) REFERENCES public.departments(id);


--
-- TOC entry 4863 (class 2606 OID 16598)
-- Name: memos memos_to_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.memos
    ADD CONSTRAINT memos_to_user_id_fkey FOREIGN KEY (to_user_id) REFERENCES public.users(id);


--
-- TOC entry 4867 (class 2606 OID 16593)
-- Name: user_sessions user_sessions_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_sessions
    ADD CONSTRAINT user_sessions_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4860 (class 2606 OID 16603)
-- Name: users users_department_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.departments(id);


-- Completed on 2025-10-03 13:09:56

--
-- PostgreSQL database dump complete
--

\unrestrict N6CVsGUK7l14C7oWA2WtzwPvblwGslChh7ajwdX5eunXcr8OfbW0Zb6imewGwj7

